(function(){"use strict";var t={7750:function(t,e,o){var a=o(641);const n={key:0},d={key:1,className:"todolist"},s={key:0};function i(t,e,o,i,r,l){const u=(0,a.g2)("headers"),p=(0,a.g2)("todolist"),c=(0,a.g2)("updateitem"),h=(0,a.g2)("addtask");return(0,a.uX)(),(0,a.CE)("div",null,[r.loading?((0,a.uX)(),(0,a.CE)("div",n)):((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(u),(0,a.bF)(p,{todo:r.todos,onDeleteItemFromList:l.deleteItem,position:"1",onCheck:l.checkItem,onUpdate:l.updateOldItem},null,8,["todo","onDeleteItemFromList","onCheck","onUpdate"]),(0,a.bF)(p,{todo:r.todosFalse,onDeleteItemFromList:l.deleteItem,position:"2",onCheck:l.checkItem,onUpdate:l.updateOldItem},null,8,["todo","onDeleteItemFromList","onCheck","onUpdate"]),r.showupdate?((0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(c,{onUpdate2:l.updateNew,update:r.UD},null,8,["onUpdate2","update"])])):(0,a.Q3)("",!0),(0,a.bF)(h,{onAddItem:l.addNewItem},null,8,["onAddItem"])]))])}o(4114);var r=o(3751);const l=t=>((0,a.Qi)("data-v-2229176a"),t=t(),(0,a.jt)(),t),u=l((()=>(0,a.Lk)("label",{for:"newitem"},"Add to the todo list",-1))),p=l((()=>(0,a.Lk)("button",{type:"submit"},"Add item",-1)));function c(t,e,o,n,d,s){return(0,a.uX)(),(0,a.CE)("form",{name:"newform",onSubmit:e[1]||(e[1]=(0,r.D$)(((...t)=>s.addItem&&s.addItem(...t)),["prevent"]))},[u,(0,a.bo)((0,a.Lk)("input",{type:"text",name:"newitem",id:"newitem","onUpdate:modelValue":e[0]||(e[0]=t=>d.newitem=t)},null,512),[[r.Jo,d.newitem]]),p],32)}var h={data(){return{newitem:"",done:!1,id:1e5*Math.random()}},methods:{addItem(){""==this.newitem&&alert("please add task");const t={id:Math.floor(1e5*Math.random()),label:this.newitem,done:!1};this.$emit("addItem",t),this.newitem=""}}},m=o(6262);const v=(0,m.A)(h,[["render",c],["__scopeId","data-v-2229176a"]]);var f=v;const b=t=>((0,a.Qi)("data-v-3b655a3d"),t=t(),(0,a.jt)(),t),g={id:"todolist"},y=b((()=>(0,a.Lk)("span",null,"Get things done, one item at a time.",-1)));function k(t,e){return(0,a.uX)(),(0,a.CE)("h1",g,[(0,a.eW)(" Todo List "),y])}const I={},w=(0,m.A)(I,[["render",k],["__scopeId","data-v-3b655a3d"]]);var D=w,_=o(33);const C=["onDragstart"],F={class:"label"},U={class:"actions"},M=["onClick"],q=(0,a.Lk)("i",{class:"fas fa-edit"},null,-1),L=[q],A=["onClick"],O={key:0},$=(0,a.Lk)("i",{class:"far fa-square"},null,-1),S=[$],j={key:1},E=(0,a.Lk)("i",{class:"far fa-check-square"},null,-1),T=[E],x=["onClick"],V=(0,a.Lk)("i",{class:"far fa-trash-alt"},null,-1),K=[V];function N(t,e,o,n,d,s){const i=(0,a.g2)("togglebutton");return(0,a.uX)(),(0,a.CE)("div",{onDrop:e[2]||(e[2]=t=>s.OnDrop(t,o.position)),onDragenter:e[3]||(e[3]=(0,r.D$)((()=>{}),["prevent"])),onDragover:e[4]||(e[4]=(0,r.D$)((()=>{}),["prevent"]))},[(0,a.bF)(r.F,{name:"todolist",tag:"ul"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.todo,(o=>((0,a.uX)(),(0,a.CE)("li",{class:(0,_.C4)(o.done?"done":""),key:o.id,draggable:"true",onDragstart:t=>s.startDrag(t,o),onDragenter:e[0]||(e[0]=(0,r.D$)((()=>{}),["prevent"])),onDragover:e[1]||(e[1]=(0,r.D$)((()=>{}),["prevent"]))},[(0,a.Lk)("span",F,(0,_.v_)(o.label),1),(0,a.Lk)("div",U,[(0,a.Lk)("button",{class:"btn-picto",type:"button",onClick:e=>t.$emit("update",o)},L,8,M),(0,a.Lk)("button",{class:"btn-picto",type:"button",onClick:e=>t.$emit("Check",o),"aria-label":"Edit",title:"Edit"},[o.done?((0,a.uX)(),(0,a.CE)("div",O,S)):(0,a.Q3)("",!0),o.done?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",j,T))],8,A),(0,a.Lk)("button",{class:"btn-picto",type:"button",onClick:e=>t.$emit("deleteItemFromList",o),"aria-label":"Delete",title:"Delete"},K,8,x)])],42,C)))),128))])),_:1}),(0,a.bF)(i,{label:"Move done items at the end?",name:"todosort",onClicked:t.clickontoogle},null,8,["onClicked"])],32)}var X={props:{todo:Object,position:String},methods:{startDrag(t,e){t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("itemID",e.id),localStorage.setItem("DraggedItem",JSON.stringify(e))},OnDrop(t,e){console.log(e);var o=JSON.parse(localStorage.getItem("DraggedItem"));"1"==e&&0==o.done&&this.$emit("Check",o),"2"==e&&1==o.done&&this.$emit("Check",o)}}};const P=(0,m.A)(X,[["render",N]]);var Q=P;const W=t=>((0,a.Qi)("data-v-61966804"),t=t(),(0,a.jt)(),t),z=W((()=>(0,a.Lk)("label",{for:"update"},"Update to the todo list",-1))),Y=W((()=>(0,a.Lk)("button",{type:"submit"},"Update item",-1)));function Z(t,e,o,n,d,s){return(0,a.uX)(),(0,a.CE)("form",{name:"newform",onSubmit:e[1]||(e[1]=(0,r.D$)((t=>s.UpdateItem(o.Item)),["prevent"]))},[z,(0,a.bo)((0,a.Lk)("input",{type:"text",name:"updateItem",id:"updateItem","onUpdate:modelValue":e[0]||(e[0]=t=>d.updateItem=t)},null,512),[[r.Jo,d.updateItem]]),Y],32)}var J={data(){return{updateItem:"",done:!1,id:1e5*Math.random()}},methods:{UpdateItem(){""==this.updateItem&&alert("please add task");const t={id:Math.floor(1e5*Math.random()),label:this.updateItem,done:!1};this.$emit("Update2",t),this.updateItem=""}},props:{Item:Object}};const G=(0,m.A)(J,[["render",Z],["__scopeId","data-v-61966804"]]);var B=G,H=o(1250),R={setup(){},async mounted(){try{var t=await(0,H.A)({method:"POST",url:"https://todoapp1111.hasura.app/v1/graphql",headers:{"Content-Type":"application/json","x-hasura-admin-secret":"U6vFWYbKmDf6oz3VxCUAMiA5gytVn3nvr02fN5ykmSD1LkvZK11gIMpwdEdIe2eh"},data:{query:"\n\t\t\t\t\t\tquery MyQuery {\n\t\t\t\t\t\t\ttodos(where: {done: {_eq: true}}) {\n\t\t\t\t\t\t\t\tdone\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t"}});console.log(t.data.data.todos),this.todos=t.data.data.todos}catch(o){console.error(o),this.loading=!1}try{var e=await(0,H.A)({method:"POST",url:"https://todoapp1111.hasura.app/v1/graphql",headers:{"Content-Type":"application/json","x-hasura-admin-secret":"U6vFWYbKmDf6oz3VxCUAMiA5gytVn3nvr02fN5ykmSD1LkvZK11gIMpwdEdIe2eh"},data:{query:"\n\t\t\t\t\t\tquery MyQuery {\n\t\t\t\t\t\ttodos(where: {done: {_eq: false}}) {\n\t\t\t\t\t\t\tdone\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t"}});console.log(e.data.data.todos),this.todosFalse=e.data.data.todos}catch(o){console.error(o),this.loading=!1}this.loading=!1},components:{headers:D,todolist:Q,addtask:f,updateitem:B},data(){return{todos:[],todosFalse:[],UD:{id:1e3,label:"Learn VueJs",done:!0},showupdate:!1,loading:!0}},methods:{async deleteItem(t){this.todos=this.todos.filter((e=>e.id!==t.id)),this.todosFalse=this.todosFalse.filter((e=>e.id!==t.id));try{var e=await(0,H.A)({method:"POST",url:"https://todoapp1111.hasura.app/v1/graphql",headers:{"Content-Type":"application/json","x-hasura-admin-secret":"U6vFWYbKmDf6oz3VxCUAMiA5gytVn3nvr02fN5ykmSD1LkvZK11gIMpwdEdIe2eh"},data:{query:"\n\t\t\t\t\tmutation MyMutation($_eq: uuid) {\n\t\t\t\t\tdelete_todos(where: {id: {_eq: $_eq}}) {\n\t\t\t\t\t\treturning {\n\t\t\t\t\t\tdone\n\t\t\t\t\t\tid\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t",variables:{_eq:t.id}}});console.log(e.data.data.todos)}catch(o){console.error(o)}},async checkItem(t){console.log(t.done),1==t.done?(this.todosFalse.push(t),this.todosFalse=this.todosFalse.map((e=>e.id===t.id?{...e,done:!e.done}:e)),this.todos=this.todos.filter((e=>e.id!==t.id))):(this.todos.push(t),this.todos=this.todos.map((e=>e.id===t.id?{...e,done:!e.done}:e)),this.todosFalse=this.todosFalse.filter((e=>e.id!==t.id)));try{var e=await(0,H.A)({method:"POST",url:"https://todoapp1111.hasura.app/v1/graphql",headers:{"Content-Type":"application/json","x-hasura-admin-secret":"U6vFWYbKmDf6oz3VxCUAMiA5gytVn3nvr02fN5ykmSD1LkvZK11gIMpwdEdIe2eh"},data:{query:"\n\t\t\t\t\tmutation MyMutation($_eq: uuid, $_set: todos_set_input ) {\n\t\t\t\t\t\tupdate_todos(where: {id: {_eq: $_eq}}, _set: $_set) {\n\t\t\t\t\t\t\treturning {\n\t\t\t\t\t\t\tdone\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t",variables:{_eq:t.id,_set:{done:!t.done}}}});console.log(e.data.data.todos)}catch(o){console.error(o)}},updateOldItem(t){this.UD.id=t.id,this.UD.label=t.label,this.UD.done=t.done,this.showupdate=!this.showupdate},async addNewItem(t){console.log(t.done),1==t.done?this.todos.push(t):this.todosFalse.push(t);try{var e=await(0,H.A)({method:"POST",url:"https://todoapp1111.hasura.app/v1/graphql",headers:{"Content-Type":"application/json","x-hasura-admin-secret":"U6vFWYbKmDf6oz3VxCUAMiA5gytVn3nvr02fN5ykmSD1LkvZK11gIMpwdEdIe2eh"},data:{query:"\n\t\t\t\t\t mutation MyMutation($objects: [todos_insert_input!]!) {\n\t\t\t\t\t\tinsert_todos(objects: $objects) {\n\t\t\t\t\t\t\treturning {\n\t\t\t\t\t\t\tdone\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t",variables:{objects:{done:t.done,label:t.label}}}});console.log(e.data.data.todos)}catch(o){console.error(o)}},async updateNew(t){console.log(t.done),1==t.done?this.todos=this.todos.map((e=>e.id===this.UD.id?{todo:e,label:t.label}:e)):this.todosFalse=this.todosFalse.map((e=>e.id===this.UD.id?{todoFalse:e,label:t.label}:e));try{var e=await(0,H.A)({method:"POST",url:"https://todoapp1111.hasura.app/v1/graphql",headers:{"Content-Type":"application/json","x-hasura-admin-secret":"U6vFWYbKmDf6oz3VxCUAMiA5gytVn3nvr02fN5ykmSD1LkvZK11gIMpwdEdIe2eh"},data:{query:"\n\t\t\t\t\t\tmutation MyMutation($_eq: Int , $_set: todos_set_input = {}) {\n\t\t\t\t\t\t\tupdate_todos(where: {id: {_eq: $_eq}}, _set: $_set) {\n\t\t\t\t\t\t\t\treturning {\n\t\t\t\t\t\t\t\tdone\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t",variables:{_eq:this.UD.id,_set:{done:t.done,label:t.label}}}});console.log(e.data.data.todos)}catch(o){console.error(o)}this.showupdate=!this.showupdate}}};const tt=(0,m.A)(R,[["render",i],["__scopeId","data-v-1bd2fdc9"]]);var et=tt;(0,r.Ef)(et).mount("#app")}},e={};function o(a){var n=e[a];if(void 0!==n)return n.exports;var d=e[a]={exports:{}};return t[a].call(d.exports,d,d.exports,o),d.exports}o.m=t,function(){var t=[];o.O=function(e,a,n,d){if(!a){var s=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],d=t[u][2];for(var i=!0,r=0;r<a.length;r++)(!1&d||s>=d)&&Object.keys(o.O).every((function(t){return o.O[t](a[r])}))?a.splice(r--,1):(i=!1,d<s&&(s=d));if(i){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}d=d||0;for(var u=t.length;u>0&&t[u-1][2]>d;u--)t[u]=t[u-1];t[u]=[a,n,d]}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,d,s=a[0],i=a[1],r=a[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(r)var u=r(o)}for(e&&e(a);l<s.length;l++)d=s[l],o.o(t,d)&&t[d]&&t[d][0](),t[d]=0;return o.O(u)},a=self["webpackChunktodoapp"]=self["webpackChunktodoapp"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(7750)}));a=o.O(a)})();
//# sourceMappingURL=app.c79f4f17.js.map